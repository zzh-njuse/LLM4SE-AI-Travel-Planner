version: '3.8'
services:
  # Gateway and trip-service build images will be defined in CI; 本地可以直接从源码构建
  gateway:
    build: ../backend/gateway
    ports:
      - "8080:8080"
    environment:
      - TRIP_SERVICE_URL=http://trip-service:8081
    depends_on:
      - trip-service

  trip-service:
    build: ../backend/services/trip-service
    ports:
      - "8081:8081"
    env_file:
      - ../backend/services/trip-service/.env
